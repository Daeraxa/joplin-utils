var e=Object.defineProperty,t=Object.defineProperties,o=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,c=(t,o,n)=>o in t?e(t,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[o]=n;import{i as a,C as i,e as l,u,a as p,b as m,c as d,L as h,M as k,d as E,S as x,r as _,H as f,R as g,f as b}from"./vendor.7e559dfa.js";var R="_app_18eob_1",v="_logo_18eob_9",y="_sider_18eob_21",N="_main_18eob_23",P="_header_18eob_41";let w;const L={},C=function(e,t){if(!t||0===t.length)return e();if(void 0===w){const e=document.createElement("link").relList;w=e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(t.map((e=>{if((e=`./${e}`)in L)return;L[e]=!0;const t=e.endsWith(".css"),o=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${o}`))return;const n=document.createElement("link");return n.rel=t?"stylesheet":w,t||(n.as="script",n.crossOrigin=""),n.href=e,document.head.appendChild(n),t?new Promise(((e,t)=>{n.addEventListener("load",e),n.addEventListener("error",t)})):void 0}))).then((()=>e()))},O=new a;var j={"home.title":"Home","settings.title":"Security Settings","settings.form.token":"Authorization token","settings.form.port":"Port","settings.action.submit":"Submit","settings.msg.success":"Setup was successful","settings.msg.error":"Unable to access joplin web clipper api","unusedResource.title":"Check for unused resources","unusedResource.listEmptyText":"No unused attachment resources were found","unusedResource.action.removeAll":"Delete all","unusedResource.action.check":"Check","unusedResource.action.remove":"Remove","unusedResource.action.download":"Download","unusedResource.msg.process":"[{{rate}}/{{all}}] is checking for resources {{title}}","unusedResource.msg.error":"Please check joplin token/port configuration","notFoundResource.title":"Check notes for references to a failed resource","notFoundResource.listEmptyText":"No reference to a failed resource was found","notFoundResource.unknownFileName":"Unknown file name {{id}}","notFoundResource.action.check":"Check","notFoundResource.action.open":"Open","convertExternalLink.title":"Convert External Link to Internal Reference Notes","convertExternalLink.action.convert":"Convert","convertExternalLink.action.open":"Open","convertExternalLink.msg.success":"Conversion complete","checkParentNotebook.title":"Check notes without parent directory","checkParentNotebook.listEmptyText":"No abnormal notes found in the parent directory","checkParentNotebook.action.check":"Check","checkParentNotebook.action.open":"Open"},F={"home.title":"首页","settings.title":"安全设置","settings.form.token":"授权令牌","settings.form.port":"端口","settings.action.submit":"提交","settings.msg.success":"设置成功","settings.msg.error":"无法访问 joplin web clipper api","unusedResource.title":"检查未使用的资源","unusedResource.listEmptyText":"没有找到任何未使用的附件资源","unusedResource.action.removeAll":"删除全部","unusedResource.action.check":"检查","unusedResource.action.remove":"删除","unusedResource.action.download":"下载","unusedResource.msg.process":"[{{rate}}/{{all}}] 正在检查资源 {{title}}","unusedResource.msg.error":"请检查 joplin token/port 配置","notFoundResource.title":"检查笔记中引用失效的资源","notFoundResource.listEmptyText":"没有找到任何引用失效的资源","notFoundResource.unknownFileName":"未知文件名 {{id}}","notFoundResource.action.check":"检查","notFoundResource.action.open":"打开","convertExternalLink.title":"转换外部链接为内部引用笔记","convertExternalLink.action.convert":"转换","convertExternalLink.action.open":"打开","convertExternalLink.msg.success":"转换完成","checkParentNotebook.title":"检查没有父级目录的笔记","checkParentNotebook.listEmptyText":"没有检查到父目录异常的笔记","checkParentNotebook.action.check":"检查","checkParentNotebook.action.remove":"删除"};function S(e){const t={[l.En]:"/en-US/",[l.ZhCN]:"/zh-CN/","/zh-CN/":l.ZhCN,"/en-US/":l.En}[e];return t.endsWith("/")?t.slice(0,t.length-1):t}function T(){const e=u(),t=p();return i.exports.useMemo((()=>{const o=/(\/.+?\/)/.exec(e.pathname);return o?S(o[0]):(t.push(S(l.En)+"/"),l.En)}),[t,e.pathname])}const z=()=>{const[e,a]=i.exports.useState(T()),[f,g]=i.exports.useState([]),[,b]=m((async e=>{console.log("language: ",e),await O.init({en:j,zhCN:F},e);const a=S(e),l=[{path:"/",component:i.exports.lazy((()=>C((()=>import("./index.93fce6f5.js")),["assets/index.93fce6f5.js","assets/index.cb31e19c.css","assets/vendor.7e559dfa.js"]))),exact:!0,title:O.t("home.title")},{path:"/settings",component:i.exports.lazy((()=>C((()=>import("./index.eae7b067.js")),["assets/index.eae7b067.js","assets/vendor.7e559dfa.js","assets/joplinApiGenerator.22afe8d3.js"]))),title:O.t("settings.title")},{path:"/unusedResource",component:i.exports.lazy((()=>C((()=>import("./index.7022fb4e.js")),["assets/index.7022fb4e.js","assets/vendor.7e559dfa.js","assets/index.esm.84052b48.js","assets/joplinApiGenerator.22afe8d3.js","assets/PromiseUtil.6ae62114.js","assets/immer.esm.4aedb65c.js"]))),title:O.t("unusedResource.title")},{path:"/notFoundResource",component:i.exports.lazy((()=>C((()=>import("./index.f2137910.js")),["assets/index.f2137910.js","assets/index.f01a236b.css","assets/vendor.7e559dfa.js","assets/joplinApiGenerator.22afe8d3.js","assets/comlink.2c5abf4e.js","assets/index.esm.84052b48.js","assets/PromiseUtil.6ae62114.js"]))),title:O.t("notFoundResource.title")},{path:"/convertExternalLink",component:i.exports.lazy((()=>C((()=>import("./index.a52a7f13.js")),["assets/index.a52a7f13.js","assets/index.d60ec32e.css","assets/vendor.7e559dfa.js","assets/joplinApiGenerator.22afe8d3.js","assets/index.esm.84052b48.js","assets/comlink.2c5abf4e.js","assets/immer.esm.4aedb65c.js"]))),title:O.t("convertExternalLink.title")},{path:"/checkParentNotebook",component:i.exports.lazy((()=>C((()=>import("./index.3ea5fbaa.js")),["assets/index.3ea5fbaa.js","assets/vendor.7e559dfa.js","assets/joplinApiGenerator.22afe8d3.js"]))),title:O.t("checkParentNotebook.title")}].map((e=>{return i=((e,t)=>{for(var o in t||(t={}))r.call(t,o)&&c(e,o,t[o]);if(n)for(var o of n(t))s.call(t,o)&&c(e,o,t[o]);return e})({},e),l={path:a+e.path},t(i,o(l));var i,l}));console.log("list: ",w,l),g(l)}),[e]);d((()=>b(e)));const w=u(),L=p();return i.exports.createElement(h,{className:R},i.exports.createElement(h.Sider,{className:y,width:"max-content"},i.exports.createElement("h2",{className:v},"Joplin Batch"),i.exports.createElement(k,null,f.map((e=>i.exports.createElement(k.Item,{key:e.path},i.exports.createElement(E,{to:e.path},e.title)))))),i.exports.createElement(h,null,i.exports.createElement(h.Header,{className:P},i.exports.createElement(x,{options:[{label:"English",value:l.En},{label:"中文",value:l.ZhCN}],value:e,onChange:async function(t){const o=w.pathname.replace(S(e),S(t));console.log("path: ",e,t,o),await b(t),L.push(o),a(t)}})),i.exports.createElement(h.Content,{className:N},i.exports.createElement(i.exports.Suspense,{fallback:"loading..."},_(f)))))},I=()=>i.exports.createElement(f,null,i.exports.createElement(z,null));g.render(b.createElement(b.StrictMode,null,b.createElement(I,null)),document.getElementById("root"));export{C as _,O as i,T as u};
